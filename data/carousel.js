// Generated by CoffeeScript 1.6.3
(function() {
  define(['jquery', 'flight/lib/component', 'shared/listing'], function($, defineComponent, Listing) {
    var carousel;
    carousel = function() {
      this.selector = function(listingId) {
        return "[data-listingid=" + listingId + "][data-photos]";
      };
      this.serveCarouselRequested = function(ev, data) {
        var listing;
        $.extend(data, $(this.selector(data.listingId)).data());
        listing = new Listing(data);
        return this.trigger('dataCarouselServed', listing);
      };
      return this.after('initialize', function() {
        return this.on('uiCarouselRequested', this.serveCarouselRequested);
      });
    };
    return defineComponent(carousel);
  });

}).call(this);
